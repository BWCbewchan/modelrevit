{"ast":null,"code":"import React, { Component } from 'react';\nimport { AppBar, Toolbar, Typography, IconButton, Button, FormControl, Select, Dialog, MenuItem, DialogTitle, DialogContentText, DialogContent, DialogActions, InputLabel } from '@mui/material';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport Viewer from './Viewer/Viewer';\nimport { getSelection } from './Viewer/ViewerFunctions';\nimport { Carousel } from 'react-responsive-carousel';\nimport 'react-responsive-carousel/lib/styles/carousel.min.css';\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.fetchCollections = () => {\n      fetch('http://localhost:8080/zz').then(response => response.json()).then(data => {\n        if (data.collections) {\n          this.setState({\n            collections: data.collections\n          });\n        } else {\n          console.error('Error: collections data not found in response:', data);\n        }\n      }).catch(error => console.error('Error fetching collections:', error));\n    };\n    this.handleClose = () => {\n      this.setState({\n        open: false\n      });\n    };\n    this.handleChange = event => {\n      this.setState({\n        doorFinish: event.target.value\n      });\n    };\n    this.handleClickOpen = () => {\n      this.setState({\n        open: true\n      });\n    };\n    this.handleCollectionChange = event => {\n      const collectionName = event.target.value;\n      this.setState({\n        selectedCollection: collectionName\n      });\n      this.fetchDocumentsInCollection(collectionName);\n    };\n    this.fetchDocumentsInCollection = collectionName => {\n      if (collectionName) {\n        fetch(`http://localhost:8080/collections/${collectionName}`).then(response => response.json()).then(data => {\n          console.log('Documents:', data); // Log dữ liệu ra console\n          this.setState({\n            documents: data\n          });\n        }).catch(error => console.error('Error fetching documents:', error));\n      } else {\n        this.setState({\n          documents: []\n        });\n      }\n    };\n    this.state = {\n      open: false,\n      doorFinish: \"Satin\",\n      collections: [],\n      selectedCollection: '',\n      documents: []\n    };\n  }\n  componentDidMount() {\n    this.fetchCollections();\n  }\n}\nexport default Home;","map":{"version":3,"names":["React","Component","AppBar","Toolbar","Typography","IconButton","Button","FormControl","Select","Dialog","MenuItem","DialogTitle","DialogContentText","DialogContent","DialogActions","InputLabel","MenuIcon","Viewer","getSelection","Carousel","Home","constructor","props","fetchCollections","fetch","then","response","json","data","collections","setState","console","error","catch","handleClose","open","handleChange","event","doorFinish","target","value","handleClickOpen","handleCollectionChange","collectionName","selectedCollection","fetchDocumentsInCollection","log","documents","state","componentDidMount"],"sources":["D:/testDuAN/client/src/pages/Home.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { AppBar, Toolbar, Typography, IconButton, Button, FormControl, Select, Dialog, MenuItem, DialogTitle, DialogContentText, DialogContent, DialogActions, InputLabel } from '@mui/material';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport Viewer from './Viewer/Viewer';\r\nimport { getSelection } from './Viewer/ViewerFunctions';\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport 'react-responsive-carousel/lib/styles/carousel.min.css';\r\n\r\nclass Home extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: false,\r\n            doorFinish: \"Satin\",\r\n            collections: [],\r\n            selectedCollection: '',\r\n            documents: []\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchCollections();\r\n    }\r\n\r\n    fetchCollections = () => {\r\n        fetch('http://localhost:8080/zz')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data.collections) {\r\n                    this.setState({ collections: data.collections });\r\n                } else {\r\n                    console.error('Error: collections data not found in response:', data);\r\n                }\r\n            })\r\n            .catch(error => console.error('Error fetching collections:', error));\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({ doorFinish: event.target.value });\r\n    }\r\n\r\n    handleClickOpen = () => {\r\n        this.setState({ open: true });\r\n    }\r\n\r\n    handleCollectionChange = (event) => {\r\n        const collectionName = event.target.value;\r\n        this.setState({ selectedCollection: collectionName });\r\n        this.fetchDocumentsInCollection(collectionName);\r\n    }\r\n\r\n    fetchDocumentsInCollection = (collectionName) => {\r\n        if (collectionName) {\r\n            fetch(`http://localhost:8080/collections/${collectionName}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log('Documents:', data); // Log dữ liệu ra console\r\n                    this.setState({ documents: data });\r\n                })\r\n                .catch(error => console.error('Error fetching documents:', error));\r\n        } else {\r\n            this.setState({ documents: [] });\r\n        }\r\n    }\r\n    \r\n\r\n     \r\n}\r\n\r\nexport default Home;"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,MAAM,EAAEC,OAAO,EAAEC,UAAU,EAAEC,UAAU,EAAEC,MAAM,EAAEC,WAAW,EAAEC,MAAM,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,WAAW,EAAEC,iBAAiB,EAAEC,aAAa,EAAEC,aAAa,EAAEC,UAAU,QAAQ,eAAe;AAChM,OAAOC,QAAQ,MAAM,0BAA0B;AAC/C,OAAOC,MAAM,MAAM,iBAAiB;AACpC,SAASC,YAAY,QAAQ,0BAA0B;AACvD,SAASC,QAAQ,QAAQ,2BAA2B;AACpD,OAAO,uDAAuD;AAE9D,MAAMC,IAAI,SAASnB,SAAS,CAAC;EACzBoB,WAAW,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IAAC,KAcjBC,gBAAgB,GAAG,MAAM;MACrBC,KAAK,CAAC,0BAA0B,CAAC,CAC5BC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAI;QACV,IAAIA,IAAI,CAACC,WAAW,EAAE;UAClB,IAAI,CAACC,QAAQ,CAAC;YAAED,WAAW,EAAED,IAAI,CAACC;UAAY,CAAC,CAAC;QACpD,CAAC,MAAM;UACHE,OAAO,CAACC,KAAK,CAAC,gDAAgD,EAAEJ,IAAI,CAAC;QACzE;MACJ,CAAC,CAAC,CACDK,KAAK,CAACD,KAAK,IAAID,OAAO,CAACC,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC,CAAC;IAC5E,CAAC;IAAA,KAEDE,WAAW,GAAG,MAAM;MAChB,IAAI,CAACJ,QAAQ,CAAC;QAAEK,IAAI,EAAE;MAAM,CAAC,CAAC;IAClC,CAAC;IAAA,KAEDC,YAAY,GAAIC,KAAK,IAAK;MACtB,IAAI,CAACP,QAAQ,CAAC;QAAEQ,UAAU,EAAED,KAAK,CAACE,MAAM,CAACC;MAAM,CAAC,CAAC;IACrD,CAAC;IAAA,KAEDC,eAAe,GAAG,MAAM;MACpB,IAAI,CAACX,QAAQ,CAAC;QAAEK,IAAI,EAAE;MAAK,CAAC,CAAC;IACjC,CAAC;IAAA,KAEDO,sBAAsB,GAAIL,KAAK,IAAK;MAChC,MAAMM,cAAc,GAAGN,KAAK,CAACE,MAAM,CAACC,KAAK;MACzC,IAAI,CAACV,QAAQ,CAAC;QAAEc,kBAAkB,EAAED;MAAe,CAAC,CAAC;MACrD,IAAI,CAACE,0BAA0B,CAACF,cAAc,CAAC;IACnD,CAAC;IAAA,KAEDE,0BAA0B,GAAIF,cAAc,IAAK;MAC7C,IAAIA,cAAc,EAAE;QAChBnB,KAAK,CAAE,qCAAoCmB,cAAe,EAAC,CAAC,CACvDlB,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAI;UACVG,OAAO,CAACe,GAAG,CAAC,YAAY,EAAElB,IAAI,CAAC,CAAC,CAAC;UACjC,IAAI,CAACE,QAAQ,CAAC;YAAEiB,SAAS,EAAEnB;UAAK,CAAC,CAAC;QACtC,CAAC,CAAC,CACDK,KAAK,CAACD,KAAK,IAAID,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC,CAAC;MAC1E,CAAC,MAAM;QACH,IAAI,CAACF,QAAQ,CAAC;UAAEiB,SAAS,EAAE;QAAG,CAAC,CAAC;MACpC;IACJ,CAAC;IAxDG,IAAI,CAACC,KAAK,GAAG;MACTb,IAAI,EAAE,KAAK;MACXG,UAAU,EAAE,OAAO;MACnBT,WAAW,EAAE,EAAE;MACfe,kBAAkB,EAAE,EAAE;MACtBG,SAAS,EAAE;IACf,CAAC;EACL;EAEAE,iBAAiB,GAAG;IAChB,IAAI,CAAC1B,gBAAgB,EAAE;EAC3B;AAiDJ;AAEA,eAAeH,IAAI"},"metadata":{},"sourceType":"module"}